---
import ArticleCard from "@components/ArticleCard.astro";
import BaseLayout from "@layouts/BaseLayout.astro";
import { Frontmatter, sortDateDescending } from "src/misc";

const allPosts = await Astro.glob<Frontmatter>("../pages/blog/articles/*.md");
const posts = sortDateDescending(
    allPosts.filter((post) => post.frontmatter.draft != true)
).slice(0, 3);
---

<BaseLayout title="Find More" activeLink="find-more">
    <section>
        <h2
            class="mx-auto text-center mb-8 bg-gradient-orange text-transparent bg-clip-text text-5xl border-b-2 border-red-300 font-semibold w-fit mb-20"
        >
            Find More
        </h2>

        <div class="flex flex-wrap flex-col justify-center gap-12">
            {posts.map((post) => <ArticleCard content={post} />)}
            <div
                class="card sm:card-side bg-base-200 max-w-[90%] w-[52rem] mx-auto scale-1 hover:scale-105 transition-[scale_250ms] shadow-[0px_0px_20px_2px_rgb(0_0_0_/_50%)] dark:shadow-[0px_0px_20px_2px_rgb(255_255_255_/_50%)] focus-within:outline focus-within:outline-2 focus-within:outline-secondary"
            >
                <Fragment>
                    <figure class="pt-4 sm:pt-0 rounded">
                        <img
                            width="300"
                            height="200"
                            class="m-2 max-w-[300px] max-h-[200px] aspect-video"
                            src="/images/camera.jpg"
                            alt="Photos"
                        />
                    </figure>
                </Fragment>

                <div class="card-body">
                    <h2 class="card-title">Gallery</h2>
                    <p class="line-clamp-4 md:line-clamp-3">Take a look at our photos</p>
                    <div class="card-actions justify-end items-center">
                        <a
                            href="/gallery/"
                            class="btn btn-outline btn-primary capitalize"
                            >Read more&mldr;</a
                        >
                    </div>
                </div>
            </div>
        </div>
    </section>
</BaseLayout>
